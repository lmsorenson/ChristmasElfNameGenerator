@page "/"

<p class="lead">Click the button to get your elf name.</p>

<button class="btn" @onclick="Generate">Generate Elf Name</button>

@if (!string.IsNullOrEmpty(currentName))
{
    <h3>Your Elf Name:</h3>
    <div class="elf-name">@currentName</div>
}

<div class="form-controls">
    <button class="btn" @onclick="ToggleExpand">@(isExpanded ? "Collapse form" : "Show whole form")</button>
</div>

<div class="form-embed @(isExpanded ? "expanded" : "")">
    <iframe
        src="https://docs.google.com/forms/d/e/1FAIpQLScVvfbEO3pV_6WqBFnv8yhCu4-kXWu1Nv7uFne6lK_VdIHiUg/viewform?embedded=true"
        scrolling="no"
        loading="lazy"
        frameborder="0"
        marginheight="0"
        marginwidth="0"
        title="Feedback form">
    </iframe>
</div>

@code {
    private string currentName = string.Empty;

    private static readonly string[] first = new[] { 
        "Jingle", 
        "Sparkle", 
        "Frosty", 
        "Candy", 
        "Merry", 
        "Tinsel", 
        "Snow", 
        "Peppermint", 
        "Holly", 
        "Bells" 
        };
    private static readonly string[] last = new[] {
         "McTwinkle", 
         "Sugarplum", 
         "Brightboots", 
         "Northstar", 
         "Bumbles", 
         "Snowflake", 
         "Goodcheer", 
         "Stocking", 
         "Candycane", 
         "Evergreen" 
         };
    private readonly Random rng = new();

    private void Generate()
    {
        currentName = $"{first[rng.Next(first.Length)]} {last[rng.Next(last.Length)]}";
    }

    private bool isExpanded = false;

    private void ToggleExpand()
    {
        isExpanded = !isExpanded;
    }
}
